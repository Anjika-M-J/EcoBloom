{% extends 'Admin/Head.html' %}
{% block content %}

<style>
    body {
        background-color: #f4f6f9;
        font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    h3 {
        text-align: center;
        color: #2c3e50;
        margin-bottom: 20px;
    }

    .container-card {
        background: #ffffff;
        padding: 25px;
        max-width: 600px;
        margin: 20px auto;
        border-radius: 12px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    }

    .form-table {
        width: 100%;
        margin-bottom: 25px;
    }

    .form-table td {
        padding: 12px;
        font-weight: 500;
    }

    select {
        width: 100%;
        padding: 8px;
        border-radius: 6px;
        border: 1px solid #ccc;
    }

    .submit-btn {
        background: linear-gradient(135deg, #3a7bd5, #00d2ff);
        border: none;
        padding: 10px 25px;
        color: white;
        font-size: 15px;
        border-radius: 8px;
        cursor: pointer;
        transition: 0.3s;
    }

    .submit-btn:hover {
        opacity: 0.9;
        transform: scale(1.03);
    }

    .list-card {
        background: #ffffff;
        padding: 20px;
        margin: 30px auto;
        border-radius: 12px;
        box-shadow: 0 8px 18px rgba(0,0,0,0.07);
        max-width: 600px;
    }

    table.list-table {
        width: 100%;
        border-collapse: collapse;
    }

    .list-table th {
        background: #2c3e50;
        color: white;
        padding: 10px;
        text-align: center;
    }

    .list-table td {
        padding: 10px;
        text-align: center;
        border-bottom: 1px solid #e0e0e0;
    }

    .list-table tr:hover {
        background-color: #f1f7ff;
    }

    .delete-btn {
        background-color: #e74c3c;
        color: white;
        padding: 6px 14px;
        border-radius: 6px;
        text-decoration: none;
        font-size: 13px;
        transition: 0.3s;
    }

    .delete-btn:hover {
        background-color: #c0392b;
    }
</style>

<div class="container-card">
    <h3>ASSIGN WARD</h3>

    <form method="post">
        {% csrf_token %}
        <table class="form-table">
            <tr>
                <td>Ward</td>
                <td>
                    <select name="sel_ward" required>
                        <option value="">-- Select Ward --</option>
                        {% for i in warddata %}
                        <option 
                            {% if i.id == workerdata.worker.id %} selected {% endif %}
                            value="{{ i.id }}">
                            {{ i.ward_number }}
                        </option>
                        {% endfor %}
                    </select>
                </td>
            </tr>
            <tr>
                <td colspan="2" align="center">
                    <input type="submit" value="Assign Ward" class="submit-btn">
                </td>
            </tr>
        </table>
    </form>
</div>

<div class="list-card">
    <h3>ASSIGNED WARDS</h3>

    <table class="list-table">
        <tr>
            <th>Sl.No</th>
            <th>Ward Number</th>
            <th>Action</th>
        </tr>

        {% for i in assignward %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ i.ward_id.ward_number }}</td>
            <td>
                <a href="{% url 'Admin:delassignedward' wid i.id %}" class="delete-btn">
                    Delete
                </a>
            </td>
        </tr>
        {% endfor %}
    </table>
</div>

{% if msg %}
<script>
    alert("{{ msg }}");
    window.location = "{% url 'Admin:AssignWard' wid %}";
</script>
{% endif %}

{% endblock content %}
